---
emoji: ğŸ’»
title: "[BOJ] 17281ë²ˆ: âš¾ (Python)"
date: '2022-02-22 23:40:00'
author: JFe
tags: Algorithm
categories: Algorithm
---

## ë¬¸ì œ
https://www.acmicpc.net/problem/17281

âš¾ëŠ” 9ëª…ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë‘ íŒ€ì´ ê³µê²©ê³¼ ìˆ˜ë¹„ë¥¼ ë²ˆê°ˆì•„ í•˜ëŠ” ê²Œì„ì´ë‹¤. í•˜ë‚˜ì˜ ì´ë‹ì€ ê³µê²©ê³¼ ìˆ˜ë¹„ë¡œ ì´ë£¨ì–´ì ¸ ìˆê³ , ì´ Nì´ë‹ ë™ì•ˆ ê²Œì„ì„ ì§„í–‰í•´ì•¼ í•œë‹¤. í•œ ì´ë‹ì— 3ì•„ì›ƒì´ ë°œìƒí•˜ë©´ ì´ë‹ì´ ì¢…ë£Œë˜ê³ , ë‘ íŒ€ì´ ê³µê²©ê³¼ ìˆ˜ë¹„ë¥¼ ì„œë¡œ ë°”ê¾¼ë‹¤.

ë‘ íŒ€ì€ ê²½ê¸°ê°€ ì‹œì‘í•˜ê¸° ì „ê¹Œì§€ íƒ€ìˆœ(íƒ€ìê°€ íƒ€ì„ì— ì„œëŠ” ìˆœì„œ)ì„ ì •í•´ì•¼ í•˜ê³ , ê²½ê¸° ì¤‘ì—ëŠ” íƒ€ìˆœì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤. 9ë²ˆ íƒ€ìê¹Œì§€ ê³µì„ ì³¤ëŠ”ë° 3ì•„ì›ƒì´ ë°œìƒí•˜ì§€ ì•Šì€ ìƒíƒœë©´ ì´ë‹ì€ ëë‚˜ì§€ ì•Šê³ , 1ë²ˆ íƒ€ìê°€ ë‹¤ì‹œ íƒ€ì„ì— ì„ ë‹¤. íƒ€ìˆœì€ ì´ë‹ì´ ë³€ê²½ë˜ì–´ë„ ìˆœì„œë¥¼ ìœ ì§€í•´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 2ì´ë‹ì— 6ë²ˆ íƒ€ìê°€ ë§ˆì§€ë§‰ íƒ€ìì˜€ë‹¤ë©´, 3ì´ë‹ì€ 7ë²ˆ íƒ€ìë¶€í„° íƒ€ì„ì— ì„ ë‹¤.

ê³µê²©ì€ íˆ¬ìˆ˜ê°€ ë˜ì§„ ê³µì„ íƒ€ì„ì— ìˆëŠ” íƒ€ìê°€ ì¹˜ëŠ” ê²ƒì´ë‹¤. ê³µê²© íŒ€ì˜ ì„ ìˆ˜ê°€ 1ë£¨, 2ë£¨, 3ë£¨ë¥¼ ê±°ì³ì„œ í™ˆì— ë„ì°©í•˜ë©´ 1ì ì„ ë“ì í•œë‹¤. íƒ€ìê°€ í™ˆì— ë„ì°©í•˜ì§€ ëª»í•˜ê³  1ë£¨, 2ë£¨, 3ë£¨ ì¤‘ í•˜ë‚˜ì— ë¨¸ë¬¼ëŸ¬ìˆì„ ìˆ˜ ìˆë‹¤. ë£¨ì— ìˆëŠ” ì„ ìˆ˜ë¥¼ ì£¼ìë¼ê³  í•œë‹¤. ì´ë‹ì´ ì‹œì‘ë  ë•ŒëŠ” ì£¼ìëŠ” ì—†ë‹¤.

íƒ€ìê°€ ê³µì„ ì³ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ê²°ê³¼ëŠ” ì•ˆíƒ€, 2ë£¨íƒ€, 3ë£¨íƒ€, í™ˆëŸ°, ì•„ì›ƒ ì¤‘ í•˜ë‚˜ì´ë‹¤. ê°ê°ì´ ë°œìƒí–ˆì„ ë•Œ, ë²Œì–´ì§€ëŠ” ì¼ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

- ì•ˆíƒ€: íƒ€ìì™€ ëª¨ë“  ì£¼ìê°€ í•œ ë£¨ì”© ì§„ë£¨í•œë‹¤.  
- 2ë£¨íƒ€: íƒ€ìì™€ ëª¨ë“  ì£¼ìê°€ ë‘ ë£¨ì”© ì§„ë£¨í•œë‹¤.  
- 3ë£¨íƒ€: íƒ€ìì™€ ëª¨ë“  ì£¼ìê°€ ì„¸ ë£¨ì”© ì§„ë£¨í•œë‹¤.  
- í™ˆëŸ°: íƒ€ìì™€ ëª¨ë“  ì£¼ìê°€ í™ˆê¹Œì§€ ì§„ë£¨í•œë‹¤.  
- ì•„ì›ƒ: ëª¨ë“  ì£¼ìëŠ” ì§„ë£¨í•˜ì§€ ëª»í•˜ê³ , ê³µê²© íŒ€ì— ì•„ì›ƒì´ í•˜ë‚˜ ì¦ê°€í•œë‹¤.  

í•œ ì•¼êµ¬íŒ€ì˜ ê°ë… ì•„ì¸íƒ€ëŠ” íƒ€ìˆœì„ ì •í•˜ë ¤ê³  í•œë‹¤. ì•„ì¸íƒ€ íŒ€ì˜ ì„ ìˆ˜ëŠ” ì´ 9ëª…ì´ ìˆê³ , 1ë²ˆë¶€í„° 9ë²ˆê¹Œì§€ ë²ˆí˜¸ê°€ ë§¤ê²¨ì ¸ ìˆë‹¤. ì•„ì¸íƒ€ëŠ” ìì‹ ì´ ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ì„ ìˆ˜ì¸ 1ë²ˆ ì„ ìˆ˜ë¥¼ 4ë²ˆ íƒ€ìë¡œ ë¯¸ë¦¬ ê²°ì •í–ˆë‹¤. ì´ì œ ë‹¤ë¥¸ ì„ ìˆ˜ì˜ íƒ€ìˆœì„ ëª¨ë‘ ê²°ì •í•´ì•¼ í•œë‹¤. ì•„ì¸íƒ€ëŠ” ê° ì„ ìˆ˜ê°€ ê° ì´ë‹ì—ì„œ ì–´ë–¤ ê²°ê³¼ë¥¼ ì–»ëŠ”ì§€ ë¯¸ë¦¬ ì•Œê³  ìˆë‹¤. ê°€ì¥ ë§ì€ ë“ì ì„ í•˜ëŠ” íƒ€ìˆœì„ ì°¾ê³ , ê·¸ ë•Œì˜ ë“ì ì„ êµ¬í•´ë³´ì.

---

## ì…ë ¥  
ì²«ì§¸ ì¤„ì— ì´ë‹ ìˆ˜ N(2 â‰¤ N â‰¤ 50)ì´ ì£¼ì–´ì§„ë‹¤. ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì—ëŠ” ê° ì„ ìˆ˜ê°€ ê° ì´ë‹ì—ì„œ ì–»ëŠ” ê²°ê³¼ê°€ 1ë²ˆ ì´ë‹ë¶€í„° Në²ˆ ì´ë‹ê¹Œì§€ ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤. ì´ë‹ì—ì„œ ì–»ëŠ” ê²°ê³¼ëŠ” 9ê°œì˜ ì •ìˆ˜ê°€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ì ¸ ìˆë‹¤. ê° ê²°ê³¼ê°€ ì˜ë¯¸í•˜ëŠ” ì •ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

- ì•ˆíƒ€: 1
- 2ë£¨íƒ€: 2
- 3ë£¨íƒ€: 3
- í™ˆëŸ°: 4
- ì•„ì›ƒ: 0
ê° ì´ë‹ì—ëŠ” ì•„ì›ƒì„ ê¸°ë¡í•˜ëŠ” íƒ€ìê°€ ì ì–´ë„ í•œ ëª… ì¡´ì¬í•œë‹¤.

---

## ì¶œë ¥  
ì•„ì¸íƒ€íŒ€ì´ ì–»ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ì ìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.

---

## ğŸ” Algorithm
**Brute Force**

## ğŸ’» Logic

```Python
def hit_result(batter):
    global out, run, b1, b2, b3
    hit = inning[cur_inning][batter]
    
    # ì•„ì›ƒ
    if hit == 0:
        out += 1
        return
    # í™ˆëŸ°
    if hit == 4:
        run += b1 + b2 + b3 + 1
        b1, b2, b3 = 0, 0, 0
        return
    # 3ë£¨ ì£¼ì ìˆëŠ” ê²½ìš°
    if b3 == 1:
        b3 = 0
        run += 1
    # 2ë£¨ ì£¼ì ìˆëŠ” ê²½ìš°
    if b2 == 1:
        b2 = 0
        if hit > 1: run += 1
        else: b3 = 1
    # 1ë£¨ ì£¼ì ìˆëŠ” ê²½ìš°
    if b1 == 1:
        b1 = 0
        if hit > 2: run += 1
        elif hit == 2: b3 = 1
        else: b2 = 1
    # íƒ€ì ì£¼ì ì´ë™
    if hit == 1: b1 = 1
    elif hit == 2: b2 = 1
    elif hit == 3: b3 = 1
```

- íƒ€ê²© ê²°ê³¼ì— ë”°ë¼ ì£¼ì ì§„ë£¨í•˜ëŠ” í•¨ìˆ˜  
  - **ì•„ì›ƒì¸ ê²½ìš°**  
    `out` ì¹´ìš´íŠ¸ ***1*** ì˜¬ë ¤ì£¼ê³  **return**  
  - **í™ˆëŸ°ì¸ ê²½ìš°**  
    ë² ì´ìŠ¤ë³„ ì£¼ì ì¹´ìš´íŠ¸ + 1ì„ `run`ì— ë”í•´ì£¼ê³ ,  
    ë² ì´ìŠ¤ë³„ ì£¼ì ì •ë³´ ***0***ìœ¼ë¡œ ë°”ê¾¸ê³  **return**  
  - **ì£¼ì ìƒí™©ë³„ ì§„ë£¨**  
    1ë£¨, 2ë£¨, 3ë£¨ ì£¼ì ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ê³„ì‚°  
    íƒ€ì ì£¼ìë„ `hit` ì •ë³´ì— ë”°ë¼ ì§„ë£¨  

---

```Python
N = int(sys.stdin.readline())
inning = [[int(x) for x in sys.stdin.readline().split()] for _ in range(N)]
order_list = permutations([1,2,3,4,5,6,7,8], 8)
result = 0

for order in order_list:
    order = list(order)
    order.insert(3, 0)
    cur_inning, run, out = 0, 0, 0
    b1, b2, b3 = 0, 0, 0
    while cur_inning < N:
        for batter in order:
            hit_result(batter)
            if out == 3: 
                cur_inning += 1
                out = 0
                b1, b2, b3 = 0, 0, 0
            if cur_inning == N: break
    result = max(result, run)
print(result)
```

- ìˆœì—´ì„ ì´ìš©í•´ ê°€ëŠ¥í•œ ìˆœì„œ ê²½ìš°ì˜ ìˆ˜ë¥¼ ë‹¤ ë§Œë“¤ê³ ,  
- ê°€ëŠ¥í•œ ê²½ìš°ì˜ ìˆ˜ë§ˆë‹¤ ë“ì ì„ êµ¬í•´ì„œ **max** ê°’ ì¶œë ¥  

---

## ğŸ§© Code
<details><summary>ì „ì²´ ì½”ë“œ í™•ì¸</summary>

```Python
import sys
from itertools import permutations

def hit_result(batter):
    global out, run, b1, b2, b3
    hit = inning[cur_inning][batter]
    
    # ì•„ì›ƒ
    if hit == 0:
        out += 1
        return
    # í™ˆëŸ°
    if hit == 4:
        run += b1 + b2 + b3 + 1
        b1, b2, b3 = 0, 0, 0
        return
    # 3ë£¨ ì£¼ì ìˆëŠ” ê²½ìš°
    if b3 == 1:
        b3 = 0
        run += 1
    # 2ë£¨ ì£¼ì ìˆëŠ” ê²½ìš°
    if b2 == 1:
        b2 = 0
        if hit > 1: run += 1
        else: b3 = 1
    # 1ë£¨ ì£¼ì ìˆëŠ” ê²½ìš°
    if b1 == 1:
        b1 = 0
        if hit > 2: run += 1
        elif hit == 2: b3 = 1
        else: b2 = 1
    # íƒ€ì ì£¼ì ì´ë™
    if hit == 1: b1 = 1
    elif hit == 2: b2 = 1
    elif hit == 3: b3 = 1

N = int(sys.stdin.readline())
inning = [[int(x) for x in sys.stdin.readline().split()] for _ in range(N)]
order_list = permutations([1,2,3,4,5,6,7,8], 8)
result = 0

for order in order_list:
    order = list(order)
    order.insert(3, 0)
    cur_inning, run, out = 0, 0, 0
    b1, b2, b3 = 0, 0, 0
    while cur_inning < N:
        for batter in order:
            hit_result(batter)
            if out == 3: 
                cur_inning += 1
                out = 0
                b1, b2, b3 = 0, 0, 0
            if cur_inning == N: break
    result = max(result, run)
print(result)
```
</details>

---

## ğŸ“ Review

ì•¼êµ¬ ê´€ë ¨ ë¬¸ì œì—¬ì„œ ê¸°ëŒ€í•˜ê³  ì‹œì‘í–ˆì§€ë§Œ ì‹œê°„ì´ˆê³¼ ë•Œë¬¸ì— ë§ˆìŒì— ë“¤ì§€ì•ŠëŠ” ë¬¸ì œì˜€ë‹¤.  

ìˆœì—´ì„ ì‚¬ìš©í•´ì•¼ ëœë‹¤ëŠ” ê²ƒì„ ì•Œê³ ë‚˜ì„œ permutationì„ ì´ìš©í•´ì„œ ë¬¸ì œë¥¼ í•´ê²°í–ˆì§€ë§Œ, ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒí–ˆë‹¤.  
ì‹œê°„ì´ˆê³¼ë¥¼ ì¤„ì¼ ë°©ë²•ì´ ìƒê°ë‚˜ì§€ ì•Šì•„ì„œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì½”ë“œì—ì„œ íŒíŠ¸ë¥¼ ì–»ì—ˆê³   
ë¦¬ìŠ¤íŠ¸ë¡œ ì €ì¥í•´ë‘ì—ˆë˜ base ì •ë³´ë¥¼ ê°ê° b1, b2, b3ë¡œ ë°©ì‹ì„ ë°”ê¿”ì„œ ì‹œê°„ì´ˆê³¼ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤.


```toc
```